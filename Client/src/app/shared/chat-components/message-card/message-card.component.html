<ng-container *ngIf="msg">
    <div class="d-flex flex-row align-items-start" *ngIf="!msg.isMain">
        <div class="d-flex flex-row justify-content-start align-items-start" style="max-width: 700px;">
            <img [src]='msg.imageUrl' alt="avatar 1" class="rounded-circle   flex-shrink-0 " width="40px" height="40px">
            <div>
                <div class="ps-3 " *ngIf="msg.imageUrls">
                    <img [src]='img' *ngFor="let img of msg.imageUrls;let idx = index;" (click)="lighbox.activate(idx)"
                        class="d-block rounded-2 object-fit-cover  mb-2 w-100" height="200px">
                    <app-light-box [imagesUrl]="msg.imageUrls" #lighbox></app-light-box>
                </div>
                <p class="small mb-0 p-2 ms-3 mb-1 rounded-3" style="background-color: #f5f6f7;"
                    [innerText]="msg.content" *ngIf="msg.content">
                </p>
                <p class="small ms-3 mb-3 rounded-3 text-muted float-end">
                    {{msg.messagedOn | timeago}}
                </p>
            </div>
        </div>
    </div>

    <div class="d-flex flex-row justify-content-end" *ngIf="msg.isMain">
        <div class="d-flex flex-row justify-content-end align-items-start" style="max-width: 700px;">
            <div>
                <div class="pe-3 " *ngIf="msg.imageUrls">
                    <img [src]='img' *ngFor="let img of msg.imageUrls;let idx = index;" (click)="lighbox.activate(idx)"
                        class="d-block rounded-2 object-fit-cover  mb-2 w-100" height="200px">
                    <app-light-box [imagesUrl]="msg.imageUrls" #lighbox></app-light-box>
                </div>
                <p class="small mb-0 text-white p-2 mb-1 me-3 rounded-3" style="background-color: #3f51b5;"
                    [innerText]="msg.content" *ngIf="msg.content">
                </p>
                <p class="small  mb-3 rounded-3 text-muted">
                    <ng-container *ngIf="msg.messagedOn else processing">
                        {{msg.messagedOn | timeago}}
                    </ng-container>
                    <ng-template #processing>
                        Processing...
                    </ng-template>
                </p>
            </div>
            <img [src]="msg.imageUrl" alt="avatar 1" class="rounded-circle flex-shrink-0"
                style="width: 40px; height: 40px;">
        </div>
    </div>
</ng-container>